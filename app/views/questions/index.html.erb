<div class="container-fluid top">
  <div class="row">
    <div class="col-md-12">
      <nav class="navbar navbar-dark navbar-expand-md">
        <div class="navbar-inner">
            <button class="navbar-toggler" type="button"
              data-toggle="collapse"
              data-target="#navmenu1"
              aria-controls="navmenu1"
              aria-expanded="false"
              aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navmenu1">
              <ul class="navbar-nav" style="font-weight:bold">
                <li  class="nav-item" style="margin-left:50px;"><a class="nav-item nav-link active" href="/">ホーム</a></li>
                <li  class="nav-item" style="margin-left:50px;"><a class="nav-item nav-link" href="#">ヘルプ</a></li>
                <% if @user_id %>
                  <li  class="nav-item" style="margin-left:50px;"><a class="nav-item nav-link" href="#">過去の結果</a></li>
                <% end %>
                <li  class="nav-item" style="margin-left:50px;"><a class="nav-item nav-link" href="#">記事</a></li>
              </ul>
            </div>
        </div>
      </nav>
    </div>
  </div>
</div>

<%# <div class="container quesiton-header">
  <div class="row">
    <div class="col-md-12">
        <div class="question-header-text">
          <h1>質問に答えてみよう</h1>
          <p>実際に利用するシーンを想定しながら質問に答えていきましょう。</p>
        </div>
    </div>
  </div>
</div> %>
<%#
<div class="jumbotron">
  <div class="container">
    <h1>質問に答えてみましょう</h1>
    実際に利用するシーンを想定しながら質問に答えて。
  </div>
</div> %>


<div class="container">
  <%# コメントアウト %>
  <% if false %>
  <div class="row">
    <div class="col-md-12">
      <h2>質問に答える</h2>
      <h3><%= @question_num %>問目</h3>
      <div class="question mx-auto">
        <p class="question-text"><%= @question.content %></p>
        <div class="question-options">
          <% @options.each do |option|%>
            <div class="row" style="margin-bottom: 40px;">
              <div class="col-md-12">
                <%= link_to option.content,
                  {
                    :controller => "results",
                    # 20190324アップデート前
                    # :controller => "option_results",
                    :action => "create",
                    :category => @category,
                    :question_id => option.question_id,
                    :question_num => @question_num,
                    :option_id => option.option_id,
                    :next_question_id => option.next_question_id,
                  },
                :class => "btn btn-outline-info btn-lg btn-block mx-auto question-option-button" %>
              </div>
            </div>
          <% end %>
          <% if @question_num > 1 %>
            <%= link_to "＜",
            {
              :controller => "questions",
              :action => "index",
              :category => @category,
              :user_id => @user_id,
              :question_num => (@question_num - 2),
              :next_question_id => @before_question_id
            },
            :class => "question-button-prev"%>
          <% end %>
        </div>
      </div>
    </div>
  </div>
  <% end %>
<%# コメントアウトはここまで %>
  <div class="row">
    <div class="col-md-12">
      <h2>軽いパソコン</h2>
      <button class="btn btn-primary" id="openModal">テスト</button>
      <h2>スペックが高いパソコン</h2>
    </div>
  </div>
</div>

<%# コメントアウト %>
<% if false %>
<div class="top-main">
  <div class="top-contents">
    <div class="card border-info rounded-lg question">
      <div class="card-head text-light bg-info question-head">
        <div class="row">
          <div class="col-md-6">
          <%# 20190324 アップデート前 %>
          <%# <h3><%= @question.category 診断： <%= @answers.count 問目</h3> %>
            <h3><%= @category_firendly_name %>診断： <%= @question_num %>問目</h3>
          </div>
          <div class="col-md-6">
            <span style="margin-right:10px;">回答率：</span>
            <meter style="width:250px;" min="0" max="<%=@max_question_num%>" value="<%=@question_num-1%>"> <%=@question_num-1%>/<%=@max_question_num%></meter>
            <%# <span style="margin-left:10px;"><%=@question_num-1/<%=@max_question_num</span>
             %>
          </div>
      </div>
      <div class="card-body text-dark border-light bg-light question-contents">
        <div class="row text-left">
          <div class="col-sm-2"></div>
          <div class="col-sm-8">
            <h4><%= @question.content %></h4>
          </div>
          <div class="col-sm-2"></div>
        </div>
        <%# 20190324 アップデート前 %>
        <%# <%= link_to "YES", {:controller => "questions", :action => "index", :id => (@question.id + 1), :answer => "true", :answers => @answers, :question_ids => @question_ids}, :class => "btn btn-outline-primary btn-lg question-button" %>
        <%# <%= link_to "NO", {:controller => "questions", :action => "index", :id => (@question.id + 1), :answer => "false", :answers => @answers, :question_ids => @question_ids}, :class => "btn btn-outline-danger btn-lg  question-button" %>
        <div class="question-options">
          <% @options.each do |option|%>
            <div class="row" style="margin-bottom: 20px;">
              <div class="col-sm-3">
              </div>
              <div class="col-sm-6">
                <%= link_to option.content,
                  {
                    :controller => "results",
                    # 20190324アップデート前
                    # :controller => "option_results",
                    :action => "create",
                    :category => @category,
                    :question_id => option.question_id,
                    :question_num => @question_num,
                    :option_id => option.option_id,
                    :next_question_id => option.next_question_id,
                  },
                :class => "btn btn-outline-info btn-lg btn-block" %>
              </div>
              <div class="col-sm-3">
              </div>
            </div>
          <% end %>
        </div>
      </div>
      <div class="card-footer text-light bg-info question-footer">
        <div class="row">
          <div class="col-md-3">
            <% if @question_num > 1 %>
              <%= link_to "戻る",
              {
                :controller => "questions",
                :action => "index",
                :category => @category,
                :user_id => @user_id,
                :question_num => (@question_num - 2),
                :next_question_id => @before_question_id
              },
              :class => "btn btn-outline-light btn-block"%>
            <% end %>
          </div>
          <div class="col-md-6 text-center">
            <h5 style="margin-top:10px">直感で答えよう！</h5>
            <%= @costs %>
          </div>
          <div class="col-md-3">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<% end %>
<%# コメントアウトはここまで %>

<!-- モーダルエリアここから -->
<section id="modalArea" class="modalArea">
<div id="modalBg" class="modalBg">
    <div class="question-card bg-light">
        <div class="question-card-head bg-primary">
            <h4><%= @question_num %>問目</h4>
        </div>
        <div class="question-card-graph">
          <canvas id="myChart""></canvas>
          <input id='c_question_num' name='c_question_num' type='hidden' value='<%=(@question_num - 1)%>'>
          <input id='r_question_num' name='r_question_num' type='hidden' value='<%=(@max_question_num - @question_num + 1)%>'>
          <p><%= number_to_percentage(100*(@question_num-1)/@max_question_num,:precision => 0) %></p>
        </div>
        <div class="question-card-content text-dark mx-auto">
          <p><%= @question.content %></p>
          <% @options.each do |option|%>
            <div class="row" style="margin-bottom: 20px;">
              <div class="col-md-12">
                <%= link_to option.content,
                  {
                    :controller => "results",
                    :action => "create",
                    :category => @category,
                    :question_id => option.question_id,
                    :question_num => @question_num,
                    :option_id => option.option_id,
                    :next_question_id => option.next_question_id,
                  },
                :class => "btn btn-outline-secondary btn-block mx-auto question-card-button" %>
              </div>
            </div>
          <% end %>
        </div>
        <% if @question_num > 1 %>
              <%= link_to "＜",
              {
                :controller => "questions",
                :action => "index",
                :category => @category,
                :user_id => @user_id,
                :question_num => (@question_num - 2),
                :next_question_id => @before_question_id
              },
              :class => "question-float-btn"%>
        <% end %>
        <div id="closeModal" class="closeModal">
        ×
        </div>
    </div>
</div>
</section>
<!-- モーダルエリアここまで -->

<!-- ↓body閉じタグ直前でjQueryを読み込む -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<!-- ↓ページが読み込まれたと同時にモーダルエリアを起動する -->
<script type="text/javascript">
  window.onload = $('#modalArea').fadeIn(0);
</script>
