<div class="container result">
  <div class="row result-contents">
    <div class="col-md-12">
      <div class="result-type">
        <p>あなたのタイプ</p>
        <p><span><%= @charasteristic_title %></span></p>
        <img src="/type-a.jpg" class="img-fluid img-type" >
      </div>
    </div>
  </div>
  <div class="row result-contents">
    <div class="col-md-12">
      <h5>解説</h5>
    </div>
  </div>
  <div class="row ">
    <div class="col-md-12">
      <div class="result-commentary">
        <p>あなたは　＜<%= @charasteristic_body %>＞　という特徴をもっています。</p>
        <ul>
          <li><%= @hash_rec_star.keys[0] %></li>
          <p>あなたにとっておすすめの<%= @hash_rec_star.keys[0] %>のスペックは、<%= @hash_rec_avrg[@hash_rec_star.keys[0]] %>です。</p>
					<p>標準的な<%= @hash_rec_star.keys[0] %>のスペックは、<%= @hash_difference_avrg[@hash_rec_star.keys[0]] %>です。</p>
          <li><%= @hash_rec_star.keys[1] %></li>
					<p>あなたにとっておすすめの<%= @hash_rec_star.keys[1] %>のスペックは、<%= @hash_rec_avrg[@hash_rec_star.keys[1]] %>です。</p>
					<p>標準的な<%= @hash_rec_star.keys[1] %>のスペックは、<%= @hash_difference_avrg[@hash_rec_star.keys[1]] %>です。</p>
          <li><%= @hash_rec_star.keys[2] %></li>
					<p>あなたにとっておすすめの<%= @hash_rec_star.keys[2] %>のスペックは、<%= @hash_rec_avrg[@hash_rec_star.keys[2]] %>です。</p>
					<p>標準的な<%= @hash_rec_star.keys[2] %>のスペックは、<%= @hash_difference_avrg[@hash_rec_star.keys[2]] %>です。</p>
          <li><%= @hash_rec_star.keys[3] %></li>
					<p>あなたにとっておすすめの<%= @hash_rec_star.keys[3] %>のスペックは、<%= @hash_rec_avrg[@hash_rec_star.keys[3]] %>です。</p>
					<p>標準的な<%= @hash_rec_star.keys[3] %>のスペックは、<%= @hash_difference_avrg[@hash_rec_star.keys[3]] %>です。</p>
          <li><%= @hash_rec_star.keys[4] %></li>
					<p>あなたにとっておすすめの<%= @hash_rec_star.keys[4] %>のスペックは、<%= @hash_rec_avrg[@hash_rec_star.keys[4]] %>です。</p>
					<p>標準的な<%= @hash_rec_star.keys[4] %>のスペックは、<%= @hash_difference_avrg[@hash_rec_star.keys[4]] %>です。</p>
        </ul>
      </div>
    </div>
  </div>
  <div class="row result-contents">
    <div class="col-md-12">
      <h5>特徴</h5>
    </div>
  </div>
  <div class="row ">
    <div class="col-md-12">
      <div class="result-chart">
        <p>項目</p>
        <div class="result-chart-graph">
          <input id='c_1' name='c_1' type='hidden' value='安さ'>
          <input id='c_2' name='c_2' type='hidden' value='スペック'>
          <input id='c_3' name='c_3' type='hidden' value='画面の大きさ'>
          <input id='c_4' name='c_4' type='hidden' value='軽さ'>
          <input id='c_5' name='c_5' type='hidden' value='バッテリー時間'>
          <input id='c_v_1' name='c_v_1' type='hidden' value='<%= @hash_rec_star["price"]%>'>
          <input id='c_v_2' name='c_v_2' type='hidden' value='<%= @hash_rec_star["cpu_score"]%>'>
          <input id='c_v_3' name='c_v_3' type='hidden' value='<%= @hash_rec_star["inch"]%>'>
          <input id='c_v_4' name='c_v_4' type='hidden' value='<%= @hash_rec_star["weight"]%>'>
          <input id='c_v_5' name='c_v_5' type='hidden' value='<%= @hash_rec_star["uptime"]%>'>
          <canvas id="resultChart"></canvas>
        </div>
				<div class="result-commentary-fundamental">
					<p>[安さ] ★<%= @hash_rec_star["price"] %> : 平均の値段は、<%= @hash_difference_avrg["price"].round(-3).to_i %>円です。あなたにおすすめの値段は、<%= @hash_rec_avrg["price"].round(-3).to_i %>円です。</p>
					<p>[スペック] ★<%= @hash_rec_star["cpu_score"] %> : 平均のスペックは、<%= @hash_difference_avrg["cpu_score"].round(-2).to_i %>です。あなたにおすすめのスペックは、<%= @hash_rec_avrg["cpu_score"].round(-2).to_i %>です。</p>
					<p>[画面の大きさ] ★<%= @hash_rec_star["inch"] %> : 平均の画面の大きさは、<%= @hash_difference_avrg["inch"].round(1) %>インチです。あなたにおすすめの画面の大きさは、<%= @hash_rec_avrg["inch"].round(1) %>インチです。</p>
					<p>[軽さ] ★<%= @hash_rec_star["weight"] %> : 平均の重量は、<%= @hash_difference_avrg["weight"].round(3) %>kgです。あなたにおすすめの重量は、<%= @hash_rec_avrg["weight"].round(3) %>kgです。</p>
					<p>[バッテリー時間] ★<%= @hash_rec_star["uptime"] %> : 平均のバッテリー時間は、<%= @hash_difference_avrg["uptime"].round(1) %>時間です。あなたにおすすめのバッテリー時間は、<%= @hash_rec_avrg["uptime"].round(1) %>時間です。</p>
	      </div>

      </div>
    </div>
  </div>
  <div class="row result-contents">
    <div class="col-md-12">
      <h5>ランキング</h5>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="result-commentary">
        <p>あなたへのおすすめ商品</p>
      </div>
    </div>
  </div>
  <% for num in 0..@item_display_row_num do %>
  <div class="row  result-contents">
    <div class="col-md-6">

      <div class="card card-item" style="width: 20rem;">
        <h6>第<%=num*2+1%>位</h6>
        <%= image_tag "#{@array_item[num*2].image}", class: "card-img-top", alt: "Card image cap", height: "280px" %>
        <div class="card-body">
          <h4 class="card-title"><%= @array_item[num*2].series %></h4>
          <p class="card-text">￥<%= @array_item[num*2].price %></p>
          <button class="btn btn-block btn-outline-secondary" id="item_btn_<%=num*2%>">詳細を見る</button>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card card-item" style="width: 20rem;">
        <h6>第<%=num*2+2%>位</h6>
        <%= image_tag "#{@array_item[num*2+1].image}", class: "card-img-top", alt: "Card image cap", height: "280px" %>
        <div class="card-body">
          <h4 class="card-title"><%= @array_item[num*2+1].series %></h4>
          <p class="card-text">￥<%= @array_item[num*2+1].price %></p>
          <button class="btn btn-block btn-outline-secondary" id="item_btn_<%=num*2+1%>">詳細を見る</button>
        </div>
      </div>
    </div>
  </div>
  <% end %>
</div>

<% for num in 0..(@item_display_num-1) do %>
<div class="container item">
  <div class="row  result-contents">
    <div class="col-md-12">
      <h2 id="item_<%=num%>">第<%= num+1 %>位のアイテム</h2>
      <ul class="nav nav-pills">
        <%# タブを作成 %>
        <li class="nav-item dropdown" type="button">
          <a class="nav-link dropdown-toggle btn-primary active" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">　デザイン　</a>
          <div class="dropdown-menu">
          <% @items_array.each do |item|%>
            <% if item.series == @array_item[num].series %>
              <% item_num = @items_array.index(item) %>
                <a href="#tab<%= item_num %>" class="dropdown-item" data-toggle="tab"><%= item.color %></a>
              <% @item_counter += 1%>
            <% end %>
          <% end %>
          </div>
        </li>
        <% @item_counter=0 %>
      </ul>
      <div class="tab-content item-detail border text-dark">
        <%# コンテンツを作成 %>
        <% @items_array.each do |item|%>
          <% if item.series == @array_item[num].series %>
            <% item_num = @items_array.index(item) %>
            <div id="tab<%= item_num %>" class="tab-pane <% if @item_counter==0 %>active<% end %>">
              <div class="row">
                  <div class="col-md-12">
                      <h3><%= item.name %></h3>
                      <%# <%= image_tag "#{item.image}", class: "item-img" %>
                      <p>価格：￥<%= item.price %></p>
                      <p style="font-size: 12px;">※価格が変更されている場合がございます。最新の情報はリンクをご確認ください。</p>
                  </div>
              </div>
              <div class="row">
                  <div class="col-md-6">
                    <%= image_tag "#{item.image}", class: "item-img" %>
                  </div>
									<div class="col-md-6">
										<p>値段 : <%= item.price %>円。あなたにおすすめの値段は、<%= @hash_rec_avrg["price"].round(-3).to_i %>円です。</p>
										<p>スペック : <%= item.cpu_score %>。あなたにおすすめのスペックは、<%= @hash_rec_avrg["cpu_score"].round(-2).to_i %>です。</p>
										<p>インチ : <%= item.inch %>インチ。あなたにおすすめの画面の大きさは、<%= @hash_rec_avrg["inch"].round(1) %>インチです。</p>
										<p>重量 : <%= item.weight %>kg。あなたにおすすめの重さは、<%= @hash_rec_avrg["weight"].round(3) %>kgです。</p>
										<p>バッテリー時間 : <%= item.uptime %>時間です。あなたにおすすめのバッテリー時間は、<%= @hash_rec_avrg["uptime"].round(1) %>時間です。</p>

										<br>
										<p>[あなたにとって重要な点]</p>
										<p><%= @hash_rec_star.keys[0] %> : <%= item[@hash_rec_star.keys[0]] %>, あたなにおすすめ : <%= @hash_rec_avrg[@hash_rec_star.keys[0]] %> </p>
										<p><%= @hash_rec_star.keys[1] %> : <%= item[@hash_rec_star.keys[1]] %>, あたなにおすすめ : <%= @hash_rec_avrg[@hash_rec_star.keys[1]] %> </p>
										<p><%= @hash_rec_star.keys[2] %> : <%= item[@hash_rec_star.keys[2]] %>, あたなにおすすめ : <%= @hash_rec_avrg[@hash_rec_star.keys[2]] %> </p>
										<p><%= @hash_rec_star.keys[3] %> : <%= item[@hash_rec_star.keys[3]] %>, あたなにおすすめ : <%= @hash_rec_avrg[@hash_rec_star.keys[3]] %> </p>
										<p><%= @hash_rec_star.keys[4] %> : <%= item[@hash_rec_star.keys[4]] %>, あたなにおすすめ : <%= @hash_rec_avrg[@hash_rec_star.keys[4]] %> </p>
                  </div>
                  <div class="col-lg-6">
                      <table class="table table-hover table-condensed item-table">
                          <thead>
                              <tr>
                                  <th>項目</th>
                                  <th>詳細</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr>
                                  <td>メーカー</td>
                                  <td><%= item.maker %></td>
                              </tr>
                              <tr>
                                  <td>商品重量</td>
                                  <td><%= item.weight %>kg</td>
                              </tr>
                              <tr>
                                  <td>カラー</td>
                                  <td><%= item.color %></td>
                              </tr>
                              <tr>
                                  <td>サイズ</td>
                                  <td><%= item.inch %> インチ</td>
                              </tr>
                              <tr>
                                  <td>CPU タイプ</td>
                                  <td><%= item.cpu_name %></td>
                              </tr>
                              <tr>
                                  <td>CPU コア数</td>
                                  <td><%= item.cpu_core %> コア</td>
                              </tr>
                              <tr>
                                  <td>RAM</td>
                                  <td><%= item.ram %> GB</td>
                              </tr>
                              <% if item.ssd != 0 %>
                              <tr>
                                  <td>SSD</td>
                                  <td><%= item.ssd %> GB</td>
                              </tr>
                              <% end %>
                              <% if item.hdd != 0 %>
                              <tr>
                                  <td>HDD</td>
                                  <td><%= item.hdd %> GB</td>
                              </tr>
                              <% end %>
                              <% if item.emmc != 0 %>
                              <tr>
                                  <td>EMMC</td>
                                  <td><%= item.emmc %> GB</td>
                              </tr>
                              <% end %>
                              <tr>
                                  <td>バッテリー時間</td>
                                  <td><%= item.uptime %> 時間</td>
                              </tr>
                              <tr>
                                  <td>OS</td>
                                  <td><%= item.os %></td>
                              </tr>
                          </tbody>
                      </table>
                  </div>
              </div>
              <div class="row">
                <div class="col-md-6 offset-md-6">
                  <%= item.affiliate.html_safe %>
                </div>
              </div>
            </div>
            <% @item_counter+=1 %>
          <% end %>
        <% end %>
        <% @item_counter=0 %>
        </div>
      </div>
    </div>
  </div>
</div>
<% end %>



<!-- ↓body閉じタグ直前でjQueryを読み込む -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<!-- ↓ページが読み込まれたと同時にモーダルエリアを起動する -->
<script type="text/javascript">
  window.onload = function(){
      var result = $('.result').offset().top;
        $('html, body').animate({ scrollTop: result }, 1000, 'swing');
  }
</script>
































<%# ここから大量コメントアウト %>
<% if false%>
<div class="top-main">
  <div class="top-contents">
    <div class="card bg-info result">
      <div class="card-header">
        診断結果
      </div>
      <div class="card-body bg-light text-dark">
        <div class="result-contents">
          <p class="text-center">あなたのタイプは</p>
          <h2 class="text-info text-center"><%= @charasteristic_title %>タイプ</h2>
        </div>

        <div class="row">
          <div class="col-sm-12 col-md-6 result-contents">

            <p>[重視1] <%= @charasteristic_chara_1_str %> : <%= @charasteristic_chara_1_val%></p>
            <div class="result-star-rating position-relative">
              <div class="position-absolute overflow-hidden star-rating-front text-warning"style="max-width: <%= @charasteristic_chara_1_val*1.5 %>rem; max-height: 100%;">
                <h4>★★★★★★★★★★</h4>
              </div>
              <div class="result-star-rating-back">
                <h4>★★★★★★★★★★</h4>
              </div>
            </div>
            <p>[重視2] <%= @charasteristic_chara_2_str %> : <%= @charasteristic_chara_2_val %></p>
            <div class="result-star-rating position-relative">
              <div class="position-absolute overflow-hidden star-rating-front text-warning"style="max-width: <%= @charasteristic_chara_2_val*1.5 %>rem; max-height: 100%;">
                <h4>★★★★★★★★★★</h4>
              </div>
              <div class="result-star-rating-back">
                <h4>★★★★★★★★★★</h4>
              </div>
            </div>
            <p>[重視3] <%= @charasteristic_chara_3_str %> : <%= @charasteristic_chara_3_val %></p>
            <div class="result-star-rating position-relative">
              <div class="position-absolute overflow-hidden star-rating-front text-warning"style="max-width: <%= @charasteristic_chara_3_val*1.5 %>rem; max-height: 100%;">
                <h4>★★★★★★★★★★</h4>
              </div>
              <div class="result-star-rating-back">
                <h4>★★★★★★★★★★</h4>
              </div>
            </div>
            <p>[重視4] <%= @charasteristic_chara_4_str %> : <%= @charasteristic_chara_4_val %></p>
            <div class="result-star-rating position-relative">
              <div class="position-absolute overflow-hidden star-rating-front text-warning"style="max-width: <%= @charasteristic_chara_4_val*1.5 %>rem; max-height: 100%;">
                <h4>★★★★★★★★★★</h4>
              </div>
              <div class="result-star-rating-back">
                <h4>★★★★★★★★★★</h4>
              </div>
            </div>
            <p>[重視5] <%= @charasteristic_chara_5_str %> : <%= @charasteristic_chara_5_val %></p>
            <div class="result-star-rating position-relative">
              <div class="position-absolute overflow-hidden star-rating-front text-warning"style="max-width: <%= @charasteristic_chara_5_val*1.5 %>rem; max-height: 100%;">
                <h4>★★★★★★★★★★</h4>
              </div>
              <div class="result-star-rating-back">
                <h4>★★★★★★★★★★</h4>
              </div>
            </div>
          </div>

          <div class="col-sm-12 col-md-6 result-contents">
            <h4>解説</h4>
            <p class="card-text"><%= @charasteristic_body %></p>
          </div>
        </div>
        <h4>おすすめ商品</h4>

        <% for num in 0..@item_display_row_num do %>
        <div class="row">
          <div class="col-md-12 col-lg-6 result-contents">
            <div class="card result-item" style="width: 20rem;">
            <%= link_to :controller => "items",:action => "show",:series => @array_item[num*2].series do%>
              <%= image_tag "#{@array_item[num*2].image}", class: "card-img-top border", alt: "Card image cap", height: "280px" %>
            <% end %>
              <div class="card-body">
                <p class="card-text"><%= @array_item[num*2].series %></p>
                <p class="card-text">￥<%= @array_item[num*2].price %></p>
                <%= link_to "詳細を見る", {:controller => "items",:action => "show",:series => @array_item[num*2].series }, :class => "btn btn-info btn-block" %>
              </div>
            </div>
          </div>
          <div class="col-md-12 col-lg-6 result-contents">
            <div class="card result-item" style="width: 20rem;">
            <%= link_to :controller => "items",:action => "show",:series => @array_item[num*2+1].series do%>
              <%= image_tag "#{@array_item[num*2+1].image}", class: "card-img-top border", alt: "Card image cap", height: "280px"  %>
            <% end %>
              <div class="card-body">
                <p class="card-text"><%= @array_item[num*2+1].series %></p>
                <p class="card-text">￥<%= @array_item[num*2+1].price %></p>
                <%= link_to "詳細を見る", {:controller => "items",:action => "show",:series => @array_item[num*2].series }, :class => "btn btn-info btn-block" %>
              </div>
            </div>
          </div>
        </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<% end %>
<%# 20190324アップデート前 %>
<%# <h1>Results#index</h1>

<p> --------------------------------------------- </p>

<p>[User-ID] <%= @user_id </p>
<p>[User-Type] <%= @category </p>

<p> --------------------------------------------- </p>

<p>おすすめ商品 ! </p>
<p>[おすすめNo1] <%= @array_item[0].name </p>
<p>[おすすめNo2] <%= @array_item[1].name </p>
<p>[おすすめNo3] <%= @array_item[2].name </p>
<p>[おすすめNo4] <%= @array_item[3].name </p>
<p>[おすすめNo5] <%= @array_item[4].name </p>

<p> --------------------------------------------- </p> %>
